import{k as m,f as n,b as e,u as i,g as c,i as p,x as w,F as L,A as B,o as r,l as U,t as b,y as j}from"./app-DzT_j86r.js";const D={class:"w-full flex justify-center items-center bg-gray-100"},E={class:"border-2 border-teal-600 rounded-lg shadow-md w-full h-full p-6 text-center"},V={key:0,class:"flex flex-col"},$={key:1,class:"flex flex-col"},O={class:"mb-4"},A=["onClick"],F={key:0,class:"flex items-center space-x-2"},K={class:""},M={class:"text-white font-semibold text-sm text-teal-900 text-left"},P={class:"text-white text-xs font-bold text-teal-900 text-left italic"},Q={class:"text-white text-xs text-teal-900 text-left italic"},q={key:2,class:"flex flex-col"},z={class:"mb-4"},G={class:"flex justify-between mb-4"},J={__name:"ListOfUsers",props:{users:Array,existingNoteToDisplay:Object},emits:"toggle",setup(x,{emit:k}){let h=x,o=m(1);const a=m(""),f=()=>{o.value--};let C=m(h.users),d=m([]);const v=()=>{o.value=2},_=()=>{o.value=3};let g=k;const N=(s,l,t)=>{j.post("/dashboard/share_note",{note_id:s,user_id:l}).then(u=>{u.status===200?(alert(u.data.message+t),g("toggle"),d.value=[],o.value=1):u.status===201&&(alert(u.data.message+t),g("toggle"),d.value=[],o.value=1)})};let y=()=>{!a.value||a.value===""||a.value===" "?d.value=[]:d.value=C.value.filter(s=>s.username&&s.username.toLowerCase().includes(a.value.toLowerCase())||s.name&&s.name.toLowerCase().includes(a.value.toLowerCase())||s.email&&s.email.toLowerCase().includes(a.value.toLowerCase()))};return(s,l)=>(r(),n("div",D,[e("div",E,[i(o)===1?(r(),n("div",V,[l[4]||(l[4]=e("h1",{class:"text-xl font-semibold text-teal-600 border-b-2 border-teal-600 pb-1 inline-block"}," Share to ",-1)),e("div",{class:"flex justify-between items-center"},[e("button",{onClick:_,class:"btn bg-teal-600 w-1/2 h-16 my-1 mx-5 text-white rounded-md px-6 py-2 hover:bg-teal-600 transition-all"}," Email "),e("button",{onClick:v,class:"btn bg-teal-600 w-1/2 h-16 my-1 mx-5 text-white rounded-md px-6 py-2 hover:bg-teal-600 transition-all"}," Logger username ")])])):c("",!0),i(o)===2?(r(),n("div",$,[e("div",O,[p(e("input",{type:"text",onKeyup:l[0]||(l[0]=(...t)=>i(y)&&i(y)(...t)),placeholder:"user's email or full name or username",class:"placeholder:text-xs placeholder:italic w-full border-2 border-teal-600 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-teal-600 overflow-y-scroll","onUpdate:modelValue":l[1]||(l[1]=t=>a.value=t)},null,544),[[w,a.value]])]),i(d)?(r(!0),n(L,{key:0},B(i(d),(t,u)=>(r(),n("div",{onClick:H=>N(x.existingNoteToDisplay.id,t.id,t.username),class:"user my-1 bg-teal-900 text-white rounded-md px-4 py-px font-semibold cursor-pointer"},[t.username!==s.$page.props.auth.user.username||t.email!==s.$page.props.auth.user.email||t.name!==s.$page.props.auth.user.name?p((r(),n("div",F,[l[5]||(l[5]=e("div",{class:"bg-teal-500 rounded-full w-6 h-6 overflow-hidden"},null,-1)),e("div",K,[e("h3",M,b(t.username.toUpperCase()),1),e("p",P,b(t.name),1),e("p",Q,b(t.email),1)])],512)),[[U,x.existingNoteToDisplay.user_id!==t.id]]):c("",!0)],8,A))),256)):c("",!0),e("div",{class:"flex justify-between mb-4"},[e("button",{onClick:f,class:"btn bg-black text-white rounded-md px-6 py-2 hover:bg-teal-600 transition-all"}," Back "),e("button",{onClick:v,class:"btn bg-black text-white rounded-md px-6 py-2 hover:bg-teal-600 transition-all"}," Next ")])])):c("",!0),i(o)===3?(r(),n("div",q,[e("div",z,[p(e("input",{type:"text",placeholder:"Type users email...",class:"w-full border-2 border-teal-600 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-teal-600","onUpdate:modelValue":l[2]||(l[2]=t=>a.value=t)},null,512),[[w,a.value]]),l[6]||(l[6]=e("p",{class:"text-red-600 italic text-sm"}," Please make sure the email is correct ",-1))]),e("div",G,[e("button",{onClick:f,class:"btn bg-teal-600 text-white rounded-md px-6 py-2 hover:bg-teal-600"}," Back "),e("button",{onClick:l[3]||(l[3]=(...t)=>s.shareNote&&s.shareNote(...t)),class:"btn bg-teal-600 text-white rounded-md px-6 py-2 hover:bg-teal-600"}," Share ")])])):c("",!0)])]))}};export{J as default};
