import{o as i,f as h,u as o,c as C,w,b as e,t as x,j as c,l as V,a as y,s as k,m,h as B,p as S,x as A,i as H,y as L,n as b,q as $,F as j,z as D,r as T}from"./app-Bx5izdHl.js";const E={class:"flex items-center justify-between rounded hover:bg-teal-50 border-y border-teal-500"},F={class:"flex items-center justify-between my-1 px-4 py-2 rounded hover:bg-teal-500 cursor-pointer"},Z={class:"flex items-center space-x-2"},P={class:"font-semibold text-sm text-teal-900"},R={class:"text-xs text-teal-900"},W={class:"flex items-center justify-between my-1 px-4 py-2 rounded hover:bg-teal-500 cursor-pointer"},q={class:"flex items-center space-x-2"},I={class:"font-semibold text-sm text-teal-900"},O={class:"text-xs text-teal-900"},Q={__name:"ChatItem",props:{index:String,note:Object},emits:["deleteNote","restorNote"],setup(p,{emit:v}){let t=p,s=v,g=u=>{s("deleteNote",{noteId:u})},z=u=>{s("restorNote",{noteId:u})};return(u,l)=>(i(),h("div",E,[o(t).note.trashed?(i(),C(o(c),{key:0,title:o(t).note.content.substring(0,70),href:"/dashboard/trashed_note/"+o(t).note.id},{default:w(()=>[e("div",F,[e("div",Z,[l[2]||(l[2]=e("div",{class:"bg-teal-500 rounded-md w-6 h-6"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M4 2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm2 4v12h12V6H6zm2 2h8v2H8V8zm0 4h6v2H8v-2z"})])],-1)),e("div",null,[e("h3",P,x(o(t).note.title),1),e("p",R,x(o(t).note.content.substring(0,10)),1)])])])]),_:1},8,["title","href"])):(i(),C(o(c),{key:1,title:o(t).note.content.substring(0,70),href:"/dashboard/note/"+o(t).note.id},{default:w(()=>[e("div",W,[e("div",q,[l[3]||(l[3]=e("div",{class:"bg-teal-500 rounded-md w-6 h-6"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M4 2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm2 4v12h12V6H6zm2 2h8v2H8V8zm0 4h6v2H8v-2z"})])],-1)),e("div",null,[e("h3",I,x(o(t).note.title),1),e("p",O,x(o(t).note.content.substring(0,10)),1)])])])]),_:1},8,["title","href"])),o(t).note.trashed?(i(),h("button",{key:3,title:"Restor Note",onClick:l[1]||(l[1]=n=>o(z)(o(t).note.id)),class:"hover:bg-yellow-500"},l[5]||(l[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M21 12a9 9 0 1 1-9-9"}),e("polyline",{points:"12 1 12 5 16 5"})],-1)]))):(i(),h("button",{key:2,title:"Delete",onClick:l[0]||(l[0]=n=>o(g)(o(t).note.id)),class:"hover:bg-yellow-500"},l[4]||(l[4]=[V('<svg width="24" height="24" viewBox="0 0 48 48" fill="red" xmlns="http://www.w3.org/2000/svg"><rect x="10" y="14" width="28" height="28" rx="2" fill="red"></rect><rect x="13" y="17" width="22" height="22" rx="1" fill="red"></rect><path d="M20 20V34" stroke="white" stroke-width="2" stroke-linecap="white"></path><path d="M28 20V34" stroke="white" stroke-width="2" stroke-linecap="white"></path><path d="M16 8H32C32.5304 8 33.0391 8.21071 33.4142 8.58579C33.7893 8.96086 34 9.46957 34 10V12H14V10C14 9.46957 14.2107 8.96086 14.5858 8.58579C14.9609 8.21071 15.4696 8 16 8Z" fill="#757575"></path><path d="M18 4H30C30.5304 4 31.0391 4.21071 31.4142 4.58579C31.7893 4.96086 32 5.46957 32 6H16C16 5.46957 16.2107 4.96086 16.5858 4.58579C16.9609 4.21071 17.4696 4 18 4Z" fill="#616161"></path></svg>',1)])))]))}},U={class:"fixed top-0 left-0 z-50 bg-gray-100 w-16 h-screen flex flex-col items-center py-4 space-y-6 border-r border-teal-500"},G={__name:"MainAuthSideNav",setup(p){const v=async()=>{try{await k.post("/logout"),window.location.href="/login"}catch{alert("An error occurred while logging out.")}};return(t,s)=>(i(),h("div",U,[y(o(c),{href:"/dashboard",title:"Notes"},{default:w(()=>s[0]||(s[0]=[e("div",{class:"p-2 rounded-full hover:bg-teal-500 cursor-pointer"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M4 2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm2 4v12h12V6H6zm2 2h8v2H8V8zm0 4h6v2H8v-2z"})])],-1)])),_:1}),s[3]||(s[3]=V('<div class="p-2 rounded-full hover:bg-teal-500 cursor-pointer" title="Tasks (Todos)"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M9 2h6v4H9V2zM4 8h16v2H4V8zm0 4h16v2H4v-2zm0 4h16v2H4v-2zm0 4h16v2H4v-2zm8-14h2v4h-2V6z"></path></svg></div><div class="p-2 rounded-full hover:bg-teal-500 cursor-pointer" title="Scheduled events/activities"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M17 4h-2V2h-2v2H9V2H7v2H5a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1zm0 16H7V10h10v10zm-7-4h2v-2H8v2z"></path></svg></div><div class="p-2 rounded-full hover:bg-teal-500 cursor-pointer" title="Shared notes"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M17 2H7a1 1 0 0 0-1 1v18l6-4 6 4V3a1 1 0 0 0-1-1zm-2 9h-6v2h6v-2zm0-4h-6v2h6V7z"></path></svg></div>',3)),y(o(c),{href:"/dashboard/trashed_notes"},{default:w(()=>s[1]||(s[1]=[e("div",{class:"p-2 rounded-full hover:bg-teal-500 cursor-pointer",title:"Delete notes"},[e("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"teal",xmlns:"http://www.w3.org/2000/svg"},[e("rect",{x:"10",y:"14",width:"28",height:"28",rx:"2",fill:"teal"}),e("rect",{x:"13",y:"17",width:"22",height:"22",rx:"1",fill:"teal"}),e("path",{d:"M20 20V34",stroke:"white","stroke-width":"2","stroke-linecap":"white"}),e("path",{d:"M28 20V34",stroke:"white","stroke-width":"2","stroke-linecap":"white"}),e("path",{d:"M16 8H32C32.5304 8 33.0391 8.21071 33.4142 8.58579C33.7893 8.96086 34 9.46957 34 10V12H14V10C14 9.46957 14.2107 8.96086 14.5858 8.58579C14.9609 8.21071 15.4696 8 16 8Z",fill:"#757575"}),e("path",{d:"M18 4H30C30.5304 4 31.0391 4.21071 31.4142 4.58579C31.7893 4.96086 32 5.46957 32 6H16C16 5.46957 16.2107 4.96086 16.5858 4.58579C16.9609 4.21071 17.4696 4 18 4Z",fill:"#616161"})])],-1)])),_:1}),s[4]||(s[4]=V('<hr class="border-gray-300 w-8 my-4"><div class="p-2 rounded-full hover:bg-teal-500 cursor-pointer" title="Profile"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-8 1.6-8 4.8V22h16v-3.2c0-3.2-4.7-4.8-8-4.8z"></path></svg></div><div class="p-2 rounded-full hover:bg-teal-500 cursor-pointer" title="Settings"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0-6c1.1 0 2.1.9 2.1 2s-.9 2-2.1 2a2 2 0 1 1 0-4zM12 20c1.1 0 2.1.9 2.1 2s-.9 2-2.1 2a2 2 0 1 1 0-4z"></path></svg></div>',3)),e("button",{title:"Logout",onClick:v,class:"flex items-center justify-center w-full text-white bg-red-200 hover:bg-red-300 font-medium rounded-lg p-3 mt-6 text-red"},s[2]||(s[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",fill:"red",class:"w-6 h-6 mr-2"},[e("path",{"fill-rule":"evenodd",d:"M7.75 3A2.25 2.25 0 0 0 5.5 5.25v13.5A2.25 2.25 0 0 0 7.75 21h8.5A2.25 2.25 0 0 0 18.5 18.75V16.5a.75.75 0 0 1 1.5 0v2.25A3.75 3.75 0 0 1 16.25 22.5h-8.5A3.75 3.75 0 0 1 4 18.75V5.25A3.75 3.75 0 0 1 7.75 1.5h8.5A3.75 3.75 0 0 1 20 5.25V7.5a.75.75 0 0 1-1.5 0V5.25A2.25 2.25 0 0 0 16.25 3h-8.5zm10.03 8.22a.75.75 0 0 0-1.06 1.06L19.94 16h-9.19a.75.75 0 0 0 0 1.5h9.19l-3.22 3.22a.75.75 0 1 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06l-4.5-4.5z","clip-rule":"evenodd"})],-1)]))]))}},J={class:"flex overflow-hidden h-screen relative"},K={class:"ml-16"},X={key:0},Y={key:1},te={__name:"AuthenticatedLayout",props:{notesToList:Array,trashedNotes:Array},setup(p){let v=p;const t=m(""),s=m([]),g=B(()=>t.value?s.value.filter(a=>a.title&&a.title.toLowerCase().includes(t.value.toLowerCase())||a.content&&a.content.toLowerCase().includes(t.value.toLowerCase())):s.value);S(()=>{v.notesToList?s.value=v.notesToList:s.value=v.trashedNotes});const z=(a,r)=>{k.post("/dashboard/delete/"+r).then(()=>{s.value.splice(a,1),window.location.href="/dashboard"}).catch(d=>{console.error("Error deleting note:",d),alert("Failed to delete note. Please try again.")})},u=(a,r)=>{k.post("/dashboard/restor/"+r).then(()=>{s.value.splice(a,1)}).catch(d=>{console.error("Error restoring note:",d),alert("Failed to restore note. Please try again.")})},l=m(!1),n=m(window.innerWidth>=768),M=()=>{l.value=!l.value},_=()=>{n.value=window.innerWidth>=768,n.value&&(l.value=!1)};return A(n,a=>{a&&(l.value=!1)}),window.addEventListener("resize",_),(a,r)=>(i(),h("div",J,[H(e("button",{onClick:M,class:b(["absolute top-2 left-0 z-50 bg-gray-200 rounded-lg p-2 focus:outline-none focus:ring",l.value?"left-72":""])},r[1]||(r[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"30",height:"30"},[e("rect",{y:"5",width:"30",height:"4",rx:"2",fill:"slate"}),e("rect",{y:"13",width:"30",height:"4",rx:"2",fill:"slate"}),e("rect",{y:"21",width:"30",height:"4",rx:"2",fill:"slate"})],-1)]),2),[[L,!n.value]]),e("div",{class:b(["fixed top-8 left-0 w-76 bg-gray-100 h-full  z-10 transform transition-transform duration-300 text-xl px-4",l.value||n.value?"translate-x-0":"-translate-x-full z-0"])},[y(G),e("div",K,[e("div",null,[y(o(c),{href:"/dashboard/new-note",class:b([[n.value?"":"hidden"],"flex items-center justify-center w-full text-teal-900 bg-teal-200 hover:bg-teal-400 font-medium rounded-lg mb-4"])},{default:w(()=>r[2]||(r[2]=[e("span",{class:"text-3xl p-0 m-0"},"New note",-1),e("span",{class:"text-6xl p-0 m-0"},"+",-1)])),_:1},8,["class"]),H(e("input",{type:"text",placeholder:"Search archived chats","onUpdate:modelValue":r[0]||(r[0]=d=>t.value=d),class:"w-full p-2 bg-teal-100 text-teal-900 rounded mb-2"},null,512),[[$,t.value]])]),r[4]||(r[4]=e("hr",{class:"border border-teal-400 my-2"},null,-1)),g.value?(i(),h("div",X,[(i(!0),h(j,null,D(g.value,(d,f)=>(i(),C(Q,{class:"my-2",onDeleteNote:N=>z(f,d.id),onRestorNote:N=>u(f,d.id),note:d,index:f,key:f},null,8,["onDeleteNote","onRestorNote","note","index"]))),128))])):(i(),h("div",Y,r[3]||(r[3]=[e("p",{class:"text-teal-400"},"No match found",-1)])))])],2),e("div",{class:b(["flex-grow overflow-hidden overflow-y-auto transition-all duration-300",l.value&&!n.value?"ml-6":""])},[T(a.$slots,"default")],2)]))}};export{te as _};
